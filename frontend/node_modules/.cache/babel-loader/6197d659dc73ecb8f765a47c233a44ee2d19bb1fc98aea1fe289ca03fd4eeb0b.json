{"ast":null,"code":"var _jsxFileName = \"C:\\\\gamehive-tailwind\\\\gamehive-tailwind\\\\frontend\\\\src\\\\components\\\\GameCard\\\\GameCard.js\";\nimport React from 'react';\nimport styles from './GameCard.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'https://game-hive.onrender.com';\nfunction GameCard({\n  game,\n  auth\n}) {\n  var _game$imageUrl;\n  if (!game) {\n    console.warn('‚ö†Ô∏è Game inv√°lido:', game);\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Erro ao carregar jogo.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 12\n    }, this);\n  }\n  const handleBuy = async () => {\n    if (!(auth !== null && auth !== void 0 && auth.token)) {\n      alert('‚ö†Ô∏è Voc√™ precisa estar logado para comprar!');\n      return;\n    }\n    console.log('üõí Iniciando compra (PagSeguro) para o jogo:', game.title, 'ID:', game._id);\n    try {\n      const res = await fetch(`${API_URL}/pagseguro/checkout`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${auth.token}`\n        },\n        body: JSON.stringify({\n          gameId: game._id\n        })\n      });\n      if (!res.ok) {\n        const errorData = await res.json();\n        throw new Error(errorData.error || 'Erro ao criar sess√£o no PagSeguro');\n      }\n      const data = await res.json();\n      console.log('‚úÖ URL de pagamento PagSeguro:', data.url);\n      window.location.href = data.url;\n    } catch (err) {\n      console.error('‚ùå Erro ao iniciar o pagamento com PagSeguro:', err);\n      alert(err.message || 'Erro ao iniciar o pagamento!');\n    }\n  };\n  const imageUrl = (_game$imageUrl = game.imageUrl) !== null && _game$imageUrl !== void 0 && _game$imageUrl.startsWith('http') ? game.imageUrl : `${API_URL}${game.imageUrl}`;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.card,\n    children: [game.imageUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n      src: imageUrl,\n      alt: game.title,\n      className: styles.cardImage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Sem imagem dispon\\xEDvel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: styles.cardTitle,\n      children: game.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: styles.cardDescription,\n      children: game.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: styles.cardPrice,\n      children: [\"R$ \", game.price.toFixed(2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleBuy,\n      className: styles.cardButton,\n      children: \"Comprar com PagSeguro\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_c = GameCard;\nexport default GameCard;\nvar _c;\n$RefreshReg$(_c, \"GameCard\");","map":{"version":3,"names":["React","styles","jsxDEV","_jsxDEV","API_URL","GameCard","game","auth","_game$imageUrl","console","warn","children","fileName","_jsxFileName","lineNumber","columnNumber","handleBuy","token","alert","log","title","_id","res","fetch","method","headers","Authorization","body","JSON","stringify","gameId","ok","errorData","json","Error","error","data","url","window","location","href","err","message","imageUrl","startsWith","className","card","src","alt","cardImage","cardTitle","cardDescription","description","cardPrice","price","toFixed","onClick","cardButton","_c","$RefreshReg$"],"sources":["C:/gamehive-tailwind/gamehive-tailwind/frontend/src/components/GameCard/GameCard.js"],"sourcesContent":["import React from 'react';\r\nimport styles from './GameCard.module.css';\r\n\r\nconst API_URL = 'https://game-hive.onrender.com';\r\n\r\nfunction GameCard({ game, auth }) {\r\n  if (!game) {\r\n    console.warn('‚ö†Ô∏è Game inv√°lido:', game);\r\n    return <p>Erro ao carregar jogo.</p>;\r\n  }\r\n\r\n  const handleBuy = async () => {\r\n    if (!auth?.token) {\r\n      alert('‚ö†Ô∏è Voc√™ precisa estar logado para comprar!');\r\n      return;\r\n    }\r\n  \r\n    console.log('üõí Iniciando compra (PagSeguro) para o jogo:', game.title, 'ID:', game._id);\r\n  \r\n    try {\r\n      const res = await fetch(`${API_URL}/pagseguro/checkout`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${auth.token}`,\r\n        },\r\n        body: JSON.stringify({ gameId: game._id }),\r\n      });\r\n  \r\n      if (!res.ok) {\r\n        const errorData = await res.json();\r\n        throw new Error(errorData.error || 'Erro ao criar sess√£o no PagSeguro');\r\n      }\r\n  \r\n      const data = await res.json();\r\n      console.log('‚úÖ URL de pagamento PagSeguro:', data.url);\r\n  \r\n      window.location.href = data.url;\r\n    } catch (err) {\r\n      console.error('‚ùå Erro ao iniciar o pagamento com PagSeguro:', err);\r\n      alert(err.message || 'Erro ao iniciar o pagamento!');\r\n    }\r\n  };\r\n  \r\n  const imageUrl = game.imageUrl?.startsWith('http')\r\n    ? game.imageUrl\r\n    : `${API_URL}${game.imageUrl}`;\r\n\r\n  return (\r\n    <div className={styles.card}>\r\n      {game.imageUrl ? (\r\n        <img\r\n          src={imageUrl}\r\n          alt={game.title}\r\n          className={styles.cardImage}\r\n        />\r\n      ) : (\r\n        <p>Sem imagem dispon√≠vel</p>\r\n      )}\r\n\r\n      <h3 className={styles.cardTitle}>{game.title}</h3>\r\n      <p className={styles.cardDescription}>{game.description}</p>\r\n      <p className={styles.cardPrice}>R$ {game.price.toFixed(2)}</p>\r\n\r\n      <button onClick={handleBuy} className={styles.cardButton}>\r\n        Comprar com PagSeguro\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GameCard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}