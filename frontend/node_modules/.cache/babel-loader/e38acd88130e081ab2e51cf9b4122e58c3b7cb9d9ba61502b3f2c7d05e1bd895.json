{"ast":null,"code":"import React,{useState}from'react';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function EditGameForm(_ref){let{game,auth,onClose,onUpdated}=_ref;const[title,setTitle]=useState(game.title);const[price,setPrice]=useState(game.price);const[description,setDescription]=useState(game.description);const[image,setImage]=useState(null);const[gameFile,setGameFile]=useState(null);// NOVO ESTADO para o executável\nconst handleSubmit=async e=>{e.preventDefault();const formData=new FormData();formData.append('title',title);formData.append('price',price);formData.append('description',description);if(image)formData.append('image',image);// só se trocar a imagem\nif(gameFile)formData.append('gameFile',gameFile);// só se enviar o executável novo\ntry{const res=await fetch(`http://localhost:5000/games/${game._id}`,{method:'PUT',headers:{Authorization:`Bearer ${auth.token}`},body:formData});const data=await res.json();alert(data.message);onUpdated();// Atualiza a lista\nonClose();// Fecha o form\n}catch(err){console.error('Erro ao editar jogo:',err);}};return/*#__PURE__*/_jsxs(\"div\",{style:{background:'#222',padding:'20px',borderRadius:'8px'},children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Editando: \",game.title]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"T\\xEDtulo\",value:title,onChange:e=>setTitle(e.target.value),required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Pre\\xE7o\",value:price,onChange:e=>setPrice(e.target.value),required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Descri\\xE7\\xE3o\",value:description,onChange:e=>setDescription(e.target.value),required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{style:{color:'#fff'},children:\"Imagem do jogo:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:e=>setImage(e.target.files[0])}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{style:{color:'#fff'},children:\"Arquivo do jogo (exe/zip/rar):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".zip,.rar,.exe\",onChange:e=>setGameFile(e.target.files[0])}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Salvar Altera\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,style:{marginLeft:'10px'},children:\"Cancelar\"})]})]});}export default EditGameForm;","map":{"version":3,"names":["React","useState","jsxs","_jsxs","jsx","_jsx","EditGameForm","_ref","game","auth","onClose","onUpdated","title","setTitle","price","setPrice","description","setDescription","image","setImage","gameFile","setGameFile","handleSubmit","e","preventDefault","formData","FormData","append","res","fetch","_id","method","headers","Authorization","token","body","data","json","alert","message","err","console","error","style","background","padding","borderRadius","children","onSubmit","type","placeholder","value","onChange","target","required","color","accept","files","onClick","marginLeft"],"sources":["C:/gamehive-tailwind/gamehive-tailwind/frontend/src/components/EditGameForm/EditGameForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nfunction EditGameForm({ game, auth, onClose, onUpdated }) {\r\n  const [title, setTitle] = useState(game.title);\r\n  const [price, setPrice] = useState(game.price);\r\n  const [description, setDescription] = useState(game.description);\r\n  const [image, setImage] = useState(null);\r\n  const [gameFile, setGameFile] = useState(null); // NOVO ESTADO para o executável\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n    formData.append('title', title);\r\n    formData.append('price', price);\r\n    formData.append('description', description);\r\n\r\n    if (image) formData.append('image', image); // só se trocar a imagem\r\n    if (gameFile) formData.append('gameFile', gameFile); // só se enviar o executável novo\r\n\r\n    try {\r\n      const res = await fetch(`http://localhost:5000/games/${game._id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          Authorization: `Bearer ${auth.token}`\r\n        },\r\n        body: formData\r\n      });\r\n\r\n      const data = await res.json();\r\n      alert(data.message);\r\n\r\n      onUpdated(); // Atualiza a lista\r\n      onClose();   // Fecha o form\r\n    } catch (err) {\r\n      console.error('Erro ao editar jogo:', err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ background: '#222', padding: '20px', borderRadius: '8px' }}>\r\n      <h2>Editando: {game.title}</h2>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Título\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          required\r\n        />\r\n        <br /><br />\r\n\r\n        <input\r\n          type=\"number\"\r\n          placeholder=\"Preço\"\r\n          value={price}\r\n          onChange={(e) => setPrice(e.target.value)}\r\n          required\r\n        />\r\n        <br /><br />\r\n\r\n        <textarea\r\n          placeholder=\"Descrição\"\r\n          value={description}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n          required\r\n        />\r\n        <br /><br />\r\n\r\n        {/* Upload da imagem */}\r\n        <label style={{ color: '#fff' }}>Imagem do jogo:</label>\r\n        <input\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          onChange={(e) => setImage(e.target.files[0])}\r\n        />\r\n        <br /><br />\r\n\r\n        {/* Upload do executável ou arquivo zipado */}\r\n        <label style={{ color: '#fff' }}>Arquivo do jogo (exe/zip/rar):</label>\r\n        <input\r\n          type=\"file\"\r\n          accept=\".zip,.rar,.exe\"\r\n          onChange={(e) => setGameFile(e.target.files[0])}\r\n        />\r\n        <br /><br />\r\n\r\n        <button type=\"submit\">Salvar Alterações</button>\r\n        <button type=\"button\" onClick={onClose} style={{ marginLeft: '10px' }}>Cancelar</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditGameForm;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}